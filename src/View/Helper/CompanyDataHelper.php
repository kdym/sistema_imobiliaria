<?php

namespace App\View\Helper;

use Cake\ORM\TableRegistry;
use Cake\View\Helper;
use Cake\View\View;

/**
 * CompanyData helper
 */
class CompanyDataHelper extends Helper
{

    /**
     * Default configuration.
     *
     * @var array
     */
    protected $_defaultConfig = [];

    private $companyData;

    public function initialize(array $config)
    {
        parent::initialize($config); // TODO: Change the autogenerated stub

        $this->companyData = TableRegistry::get('CompanyData')->find()->first();
    }

    public function getAppTitle()
    {
        return ($this->companyData) ? $this->companyData['nome'] : 'Sistema de Imobili√°ria';
    }

    public function getAppLogo()
    {
        $fileName = sprintf('%s/file/logo.png', WWW_ROOT);

        if (file_exists($fileName)) {
            return '/file/logo.png';
        } else {
            return 'new_logo_kdym.png';
        }
    }

    public function getAppAbsoluteLogo()
    {
        $fileName = sprintf('%s/file/logo.png', WWW_ROOT);

        if (file_exists($fileName)) {
            return WWW_ROOT . '/file/logo.png';
        } else {
            return WWW_ROOT . '/img/new_logo_kdym.png';
        }
    }

    public function getAppSmallLogo()
    {
        $fileName = sprintf('%s/file/logo_small.png', WWW_ROOT);

        if (file_exists($fileName)) {
            return '/file/logo_small.png';
        } else {
            return 'kdym_small.png';
        }
    }

}
