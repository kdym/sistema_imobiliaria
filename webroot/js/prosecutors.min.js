function setProsecutor(e){confirm("Tem certeza que deseja selecionar esse Procurador?")&&(startLoading("#search-prosecutors-box"),$.ajax({url:"/prosecutors/add-existing.json",data:{user_id:e,locator_id:$("#locator-id").val()},type:"post",dataType:"json",success:function(e){switch(e){case"ok":location.href="/users/view/"+$("#user-id").val();break;case"exists":alert("Procurador j√° cadastrado"),stopLoading("#search-prosecutors-box")}}}))}$("#cep").blur(function(){getCep($(this),function(e){$("#endereco").val(e.logradouro),$("#bairro").val(e.bairro),$("#cidade").val(e.localidade),$("#uf").val(e.uf)})}),$("#search-prosecutor").length&&($("#search-prosecutor").autocomplete({source:function(e,o){$.ajax({url:"/users/fetch.json",data:{name:e.term},dataType:"json",success:function(e){o(e)}})},select:function(e,o){return setProsecutor(o.item.id),!1}}).autocomplete("instance")._renderItem=function(e,o){var r={name:o.nome,username:o.formatted_username};return $("<li>").append($("#prosecutors-search-template").tmpl(r)).appendTo(e)});